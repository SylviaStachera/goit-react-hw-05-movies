"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[888],{888:function(e,n,r){r.r(n),r.d(n,{default:function(){return l}});var t=r(439),c=r(791),i=r(689),a=r(87),s=r(381),o={btn:"MovieDetails_btn__tCU2l",container:"MovieDetails_container__o8VqJ",box:"MovieDetails_box__3lVdP","img-details":"MovieDetails_img-details__f44C4","info-details":"MovieDetails_info-details__Y1au2",list:"MovieDetails_list__y5Rs9",additioanInfo:"MovieDetails_additioanInfo__ArTl0"},u=r(184),l=function(){var e,n,r=(0,c.useState)({}),l=(0,t.Z)(r,2),d=l[0],h=l[1],v=(0,i.UO)().movieId,f=Number(v),p=(0,i.TH)();(0,c.useEffect)((function(){(0,s.TP)(f).then((function(e){h(e)})).catch((function(e){return console.log(e)}))}),[f]);var x=d.poster_path,m=d.title,w=d.release_date,_=d.vote_average,g=d.overview,j=d.genres,b=(10*_).toFixed(0),k=w?w.substring(0,4):"";return(0,u.jsxs)("div",{className:o.container,children:[(0,u.jsx)("button",{className:o.btn,children:(0,u.jsx)(a.rU,{className:o["btn-link"],to:null!==(e=null===(n=p.state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/",children:"\u2190 Go back"})}),(0,u.jsxs)("div",{className:o.box,children:[(0,u.jsx)("img",{className:o["img-details"],src:x?"https://image.tmdb.org/t/p/w300".concat(x):(0,u.jsx)("p",{children:"No poster, sorry!"}),alt:g,loading:"lazy"}),(0,u.jsxs)("div",{className:o["info-details"],children:[(0,u.jsxs)("h2",{children:[m," ( ",k," )"," "]}),(0,u.jsxs)("p",{children:["User scrode: ",b," %"]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{children:"Overview"}),(0,u.jsx)("p",{children:g})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{children:"Genres"}),(0,u.jsx)("ul",{className:o.list,children:j&&j.length&&j.map((function(e){var n=e.id,r=e.name;return(0,u.jsx)("li",{children:r},n)}))})]})]})]}),(0,u.jsxs)("div",{className:o.additioanInfo,children:[(0,u.jsx)("h4",{children:"Additional information"}),(0,u.jsxs)("ul",{children:[(0,u.jsx)("li",{children:(0,u.jsx)(a.rU,{to:"cast",children:"Cast"})}),(0,u.jsx)("li",{children:(0,u.jsx)(a.rU,{to:"reviews",children:"Reviews"})})]})]}),(0,u.jsx)(c.Suspense,{fallback:(0,u.jsx)("div",{children:"Loading subpage..."}),children:(0,u.jsx)(i.j3,{})})]})}},381:function(e,n,r){function t(e,n,r,t,c,i,a){try{var s=e[i](a),o=s.value}catch(u){return void r(u)}s.done?n(o):Promise.resolve(o).then(t,c)}function c(e){return function(){var n=this,r=arguments;return new Promise((function(c,i){var a=e.apply(n,r);function s(e){t(a,c,i,s,o,"next",e)}function o(e){t(a,c,i,s,o,"throw",e)}s(void 0)}))}}r.d(n,{zv:function(){return h},TP:function(){return d},tx:function(){return v},Hg:function(){return u},z1:function(){return l}});var i=r(757),a=r.n(i),s="5b510caffd74cc663774c058405dd762",o="https://api.themoviedb.org/3/",u=function(){var e=c(a().mark((function e(){var n,r,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(o,"trending/movie/day?api_key=").concat(s),e.prev=1,e.next=4,fetch(n);case 4:return r=e.sent,e.next=7,r.json();case 7:return t=e.sent,e.abrupt("return",t);case 11:throw e.prev=11,e.t0=e.catch(1),new Error("An error occurred while fetching trending movies.");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=c(a().mark((function e(n){var r,t,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(o,"search/movie?api_key=").concat(s,"&query=").concat(n,"&include_adult=false&language=en-US&page=1"),e.prev=1,e.next=4,fetch(r);case 4:return t=e.sent,e.next=7,t.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:throw e.prev=11,e.t0=e.catch(1),new Error("An error occurred while searching for movies.");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=c(a().mark((function e(n){var r,t,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(o,"movie/").concat(n,"?api_key=").concat(s,"&language=en-US"),e.prev=1,e.next=4,fetch(r);case 4:return t=e.sent,e.next=7,t.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:throw e.prev=11,e.t0=e.catch(1),new Error("An error occurred while fetching movies details.");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}(),h=function(){var e=c(a().mark((function e(n){var r,t,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(o,"movie/").concat(n,"/credits?api_key=").concat(s,"&language=en-US"),e.prev=1,e.next=4,fetch(r);case 4:return t=e.sent,e.next=7,t.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:throw e.prev=11,e.t0=e.catch(1),new Error("An error occurred while fetching movies credits.");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}(),v=function(){var e=c(a().mark((function e(n){var r,t,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(o,"movie/").concat(n,"/reviews?api_key=").concat(s,"&language=en-US&page=1"),e.prev=1,e.next=4,fetch(r);case 4:return t=e.sent,e.next=7,t.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:throw e.prev=11,e.t0=e.catch(1),new Error("An error occurred while fetching movies reviews.");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=888.e1188cd0.chunk.js.map