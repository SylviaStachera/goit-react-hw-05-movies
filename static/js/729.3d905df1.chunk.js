"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[729],{381:function(e,n,r){function t(e,n,r,t,c,u,a){try{var o=e[u](a),i=o.value}catch(s){return void r(s)}o.done?n(i):Promise.resolve(i).then(t,c)}function c(e){return function(){var n=this,r=arguments;return new Promise((function(c,u){var a=e.apply(n,r);function o(e){t(a,c,u,o,i,"next",e)}function i(e){t(a,c,u,o,i,"throw",e)}o(void 0)}))}}r.d(n,{zv:function(){return h},TP:function(){return p},tx:function(){return v},Hg:function(){return s},z1:function(){return f}});var u=r(757),a=r.n(u),o="5b510caffd74cc663774c058405dd762",i="https://api.themoviedb.org/3/",s=function(){var e=c(a().mark((function e(){var n,r,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(i,"trending/movie/day?api_key=").concat(o),e.prev=1,e.next=4,fetch(n);case 4:return r=e.sent,e.next=7,r.json();case 7:return t=e.sent,e.abrupt("return",t);case 11:throw e.prev=11,e.t0=e.catch(1),new Error("An error occurred while fetching trending movies.");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=c(a().mark((function e(n){var r,t,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(i,"search/movie?api_key=").concat(o,"&query=").concat(n,"&include_adult=false&language=en-US&page=1"),e.prev=1,e.next=4,fetch(r);case 4:return t=e.sent,e.next=7,t.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:throw e.prev=11,e.t0=e.catch(1),new Error("An error occurred while searching for movies.");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}(),p=function(){var e=c(a().mark((function e(n){var r,t,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(i,"movie/").concat(n,"?api_key=").concat(o,"&language=en-US"),e.prev=1,e.next=4,fetch(r);case 4:return t=e.sent,e.next=7,t.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:throw e.prev=11,e.t0=e.catch(1),new Error("An error occurred while fetching movies details.");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}(),h=function(){var e=c(a().mark((function e(n){var r,t,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(i,"movie/").concat(n,"/credits?api_key=").concat(o,"&language=en-US"),e.prev=1,e.next=4,fetch(r);case 4:return t=e.sent,e.next=7,t.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:throw e.prev=11,e.t0=e.catch(1),new Error("An error occurred while fetching movies credits.");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}(),v=function(){var e=c(a().mark((function e(n){var r,t,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(i,"movie/").concat(n,"/reviews?api_key=").concat(o,"&language=en-US&page=1"),e.prev=1,e.next=4,fetch(r);case 4:return t=e.sent,e.next=7,t.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:throw e.prev=11,e.t0=e.catch(1),new Error("An error occurred while fetching movies reviews.");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}()},729:function(e,n,r){r.r(n),r.d(n,{default:function(){return p}});var t=r(439),c=r(791),u=r(689),a=r(87),o=r(381),i={form:"SearchBar_form__gW7Gj"},s=r(184),f=function(e){var n=e.onInputValue,r=(0,c.useState)(""),u=(0,t.Z)(r,2),a=u[0],o=u[1];return(0,s.jsxs)("form",{className:i.form,onSubmit:function(e){e.preventDefault(),o("")},children:[(0,s.jsx)("input",{className:i.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies...",value:a,onChange:function(e){var r=e.currentTarget.value.toLowerCase();o(r),n(r)}}),(0,s.jsx)("button",{type:"submit",children:"Search"})]})},p=function(){var e=(0,u.TH)(),n=(0,a.lr)(),r=(0,t.Z)(n,2),i=r[0],p=r[1],h=i.get("query")||"",v=(0,c.useState)([]),l=(0,t.Z)(v,2),d=l[0],w=l[1],m=(0,c.useState)(!1),g=(0,t.Z)(m,2),x=g[0],y=g[1];(0,c.useEffect)((function(){h?(y(!0),(0,o.z1)(h).then((function(e){w(e.results),y(!1)})).catch((function(e){console.log(e),y(!1)}))):(w([]),y(!1))}),[h]);return(0,s.jsxs)("div",{children:[(0,s.jsx)(f,{onInputValue:function(e){p({query:e})}}),x?(0,s.jsx)("p",{children:"Loading..."}):(0,s.jsx)("ul",{children:d.map((function(n){return(0,s.jsx)("li",{children:(0,s.jsx)(a.rU,{to:"/movies/".concat(n.id),state:{from:e},children:n.title})},n.id)}))})]})}}}]);
//# sourceMappingURL=729.3d905df1.chunk.js.map